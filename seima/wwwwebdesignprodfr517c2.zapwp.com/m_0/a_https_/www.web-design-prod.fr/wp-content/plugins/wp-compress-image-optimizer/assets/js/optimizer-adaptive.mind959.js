var mobileWidth;var isMobile=false;function checkMobile(){if(/Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=680){isMobile=true;mobileWidth=window.innerWidth}}checkMobile();(function(w){var dpr=w.devicePixelRatio===undefined?1:w.devicePixelRatio;document.cookie="ic_pixel_ratio="+dpr+"; path=/"})(window);jQuery(document).ready(function($){let all_iframe=$("iframe.wpc-iframe-delay");let all_scripts=$('[type="wpc-delay-script"]');let all_styles=$('[rel="wpc-stylesheet"]');let mobile_styles=$('[rel="wpc-mobile-stylesheet"]');let mobileStyles=[];let styles=[];let scripts=[];let iframes=[];let inline_scripts=[];$(mobile_styles).each(function(index,element){mobileStyles.push(element)});$(all_styles).each(function(index,element){styles.push(element)});$(all_iframe).each(function(index,element){iframes.push(element)});$(all_scripts).each(function(index,element){if(element.src.length>0){scripts.push(element)}else{inline_scripts.push(element)}});if(!isMobile){$(mobileStyles).each(function(index,element){$(element).attr("rel","stylesheet");$(element).attr("type","text/css")});mobileStyles=[]}$(document).on("keydown mousedown mousemove touchmove touchstart touchend wheel visibilitychange load",preload);var scrollTop=$(window).scrollTop();if(scrollTop>20){preload()}function preload(){$(document).off("keydown mousedown mousemove touchmove touchstart touchend wheel visibilitychange load");let count=scripts.length;let i=0;$(scripts).each(function(index,element){let preload_link=document.createElement("link");$(preload_link).attr("rel","preload");$(preload_link).attr("as","script");$(preload_link).attr("href",$(element).attr("src"));$(preload_link).on("load error",function(){i++;if(i==count){run_inline();run()}});document.head.appendChild(preload_link)});$(styles).each(function(index,element){$(element).attr("rel","stylesheet");$(element).attr("type","text/css")});$(iframes).each(function(index,element){var src=$(element).attr("data-src");$(element).attr("src",src)});$(mobileStyles).each(function(index,element){$(element).attr("rel","stylesheet");$(element).attr("type","text/css")});mobileStyles=[]}function run(){$(scripts).each(function(index,element){let new_element=document.createElement("script");$(new_element).attr("src",$(element).attr("src"));document.head.appendChild(new_element)})}function run_inline(){$(inline_scripts).each(function(index,element){try{$(element).attr("type","text/javascript");$.globalEval(element.text)}catch{console.log("Delay Error:"+element)}})}});var jsDebug=0;var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(wpc_vars.js_debug=="true"){jsDebug=1;console.log("JS Debug is Enabled")}if(isSafari){wpc_vars.webp_enabled="false";if(jsDebug){console.log("Safari Disable WebP")}}if(jsDebug){console.log("WebP: "+wpc_vars.webp_enabled);console.log("Safari: "+isSafari)}function SetupNewApiURL(newApiURL,imgWidth){if(imgWidth>0){newApiURL=newApiURL.replace(/w:(\d{1,5})/g,"w:"+imgWidth)}if(window.devicePixelRatio>=2&&wpc_vars.retina_enabled=="true"||wpc_vars.force_retina=="true"){newApiURL=newApiURL.replace(/r:0/g,"r:1");if(jsDebug){console.log("Retina set to True");console.log("DevicePixelRation "+window.devicePixelRatio)}}else{newApiURL=newApiURL.replace(/r:1/g,"r:0");if(jsDebug){console.log("Retina set to False");console.log("DevicePixelRation "+window.devicePixelRatio)}}if(wpc_vars.webp_enabled=="true"&&isSafari==false){newApiURL=newApiURL.replace(/wp:0/g,"wp:1");if(jsDebug){console.log("WebP set to True")}}else{newApiURL=newApiURL.replace(/wp:1/g,"wp:0");if(jsDebug){console.log("WebP set to False")}}if(wpc_vars.exif_enabled=="true"){newApiURL=newApiURL.replace(/e:0/g,"e:1")}else{newApiURL=newApiURL.replace(/\/e:1/g,"");newApiURL=newApiURL.replace(/\/e:0/g,"")}if(isMobile){newApiURL=getSrcset(newApiURL.split(","),mobileWidth)}return newApiURL}function srcSetUpdateWidth(srcSetUrl,imageWidth){let srcSetWidth=srcSetUrl.split(" ").pop();if(srcSetWidth.endsWith("w")){let Width=srcSetWidth.slice(0,-1);if(parseInt(Width)<=5){Width=1}srcSetUrl=srcSetUrl.replace(/w:(\d{1,5})/g,"w:"+imageWidth)}else if(srcSetWidth.endsWith("x")){let Width=srcSetWidth.slice(0,-1);if(parseInt(Width)<=3){Width=1}srcSetUrl=srcSetUrl.replace(/w:(\d{1,5})/g,"w:"+imageWidth)}return srcSetUrl}function getSrcset(sourceArray,imageWidth){let changedSrcset="";sourceArray.forEach(function(imageSource){if(jsDebug){console.log("Image src part from array");console.log(imageSource)}newApiURL=srcSetUpdateWidth(imageSource.trimStart(),imageWidth);changedSrcset+=newApiURL+","});return changedSrcset.slice(0,-1)}function listHas(list,keyword){var found=false;list.forEach(function(className){if(className.includes(keyword)){found=true}});if(found){return true}else{return false}}function runAdaptive(){var adaptiveImages=[].slice.call(document.querySelectorAll("img.wps-ic-cdn"));adaptiveImages.forEach(function(entry){let adaptiveImage=entry;imageStyle=window.getComputedStyle(adaptiveImage);imgWidth=Math.round(parseInt(imageStyle.width));if(typeof imgWidth=="undefined"||!imgWidth||imgWidth==0||isNaN(imgWidth)){imgWidth=1}if(listHas(adaptiveImage.classList,"slide")){imgWidth=1}if(typeof adaptiveImage.dataset.src!=="undefined"&&adaptiveImage.dataset.src!=""){newApiURL=adaptiveImage.dataset.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}else if(typeof adaptiveImage.src!=="undefined"&&adaptiveImage.src!=""){newApiURL=adaptiveImage.src;newApiURL=SetupNewApiURL(newApiURL,imgWidth);adaptiveImage.src=newApiURL;if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.src!=""){adaptiveImage.srcset=adaptiveImage.dataset.srcset}}adaptiveImage.style.opacity=0;adaptiveImage.classList.add("ic-fade-in");adaptiveImage.classList.remove("wps-ic-lazy-image");adaptiveImage.style.opacity=null;adaptiveImage.removeAttribute("data-srcset");srcSetAPI="";if(typeof adaptiveImage.srcset!=="undefined"&&adaptiveImage.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.srcset;if(jsDebug){console.log("Image has srcset");console.log(adaptiveImage.srcset);console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL);adaptiveImage.srcset=newApiURL}else if(typeof adaptiveImage.dataset.srcset!=="undefined"&&adaptiveImage.dataset.srcset!=""){srcSetAPI=newApiURL=adaptiveImage.dataset.srcset;if(jsDebug){console.log("Image does not have srcset");console.log(newApiURL)}newApiURL=SetupNewApiURL(newApiURL);adaptiveImage.srcset=newApiURL}})}function removeElementorInvisible(){var elementorInvisible=document.querySelectorAll(".elementor-invisible");for(i=0;i<elementorInvisible.length;++i){elementorSection=elementorInvisible[i];if(elementorSection.getBoundingClientRect().top<=window.innerHeight&&elementorSection.getBoundingClientRect().bottom>=0&&getComputedStyle(elementorSection).display!=="none"){elementorSection.classList.remove("elementor-invisible")}}}document.addEventListener("DOMContentLoaded",function(){removeElementorInvisible();runAdaptive()});if("undefined"!==typeof jQuery){jQuery(document).on("elementor/popup/show",function(){runAdaptive()})}